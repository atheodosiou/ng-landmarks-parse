{"version":3,"sources":["./src/app/shared/pages/dashboard/dashboard.component.html","./node_modules/uuid/lib/bytesToUuid.js","./node_modules/uuid/lib/rng-browser.js","./node_modules/uuid/v4.js","./src/app/shared/pages/dashboard/dashboard.component.scss","./src/app/shared/pages/dashboard/dashboard.component.ts","./src/app/shared/pages/dashboard/dashboard.module.ts"],"names":[],"mappings":"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","file":"shared-pages-dashboard-dashboard-module-es2015.js","sourcesContent":["export default \"<div class=\\\"container-fluid\\\">\\r\\n  <div class=\\\"row justify-content-center\\\">\\r\\n    <div class=\\\"col-sm-12 col-md-10 col-lg-10\\\">\\r\\n      <h2 class=\\\"text-success\\\">Administration Panel</h2>\\r\\n      <h4 class=\\\"text-secondary\\\">\\r\\n        Here you can edit a landmark and/or upload a photo for it\\r\\n      </h4>\\r\\n      <hr />\\r\\n      <ng-container\\r\\n        *ngTemplateOutlet=\\\"landmarks ? form : loading\\\"\\r\\n      ></ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <ng-template #form>\\r\\n    <form\\r\\n      [formGroup]=\\\"landmarkForm\\\"\\r\\n      class=\\\"form\\\"\\r\\n      (ngSubmit)=\\\"onSubmit(landmarkForm.value)\\\"\\r\\n    >\\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <label for=\\\"landmark\\\" class=\\\"col-sm-2 col-form-label\\\">Landmark</label>\\r\\n        <div class=\\\"col-sm-10\\\">\\r\\n          <select\\r\\n            name=\\\"landmark\\\"\\r\\n            id=\\\"landmark\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            (change)=\\\"onLandmarkSelect($event.target.value)\\\"\\r\\n          >\\r\\n            <option selected disabled>Choose a Landmark</option>\\r\\n            <option *ngFor=\\\"let l of landmarks\\\" [value]=\\\"l.id\\\">\\r\\n              {{ l.get('title') }}</option\\r\\n            >\\r\\n          </select>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <label for=\\\"title\\\" class=\\\"col-sm-2 col-form-label\\\">Title</label>\\r\\n        <div class=\\\"col-sm-10\\\">\\r\\n          <input\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            id=\\\"title\\\"\\r\\n            formControlName=\\\"title\\\"\\r\\n            value=\\\"Landmark's Title\\\"\\r\\n          />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <label for=\\\"shortInfo\\\" class=\\\"col-sm-2 col-form-label\\\"\\r\\n          >Short Info</label\\r\\n        >\\r\\n        <div class=\\\"col-sm-10\\\">\\r\\n          <textarea\\r\\n            rows=\\\"5\\\"\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            id=\\\"shortInfo\\\"\\r\\n            formControlName=\\\"shortInfo\\\"\\r\\n            placeholder=\\\"Landmark's Short Info\\\"\\r\\n          ></textarea>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <label for=\\\"description\\\" class=\\\"col-sm-2 col-form-label\\\"\\r\\n          >Description</label\\r\\n        >\\r\\n        <div class=\\\"col-sm-10\\\">\\r\\n          <textarea\\r\\n            rows=\\\"15\\\"\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            id=\\\"description\\\"\\r\\n            formControlName=\\\"description\\\"\\r\\n            placeholder=\\\"Landmark's Description\\\"\\r\\n          ></textarea>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Photo upload -->\\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <label for=\\\"photo\\\" class=\\\"col-sm-2 col-form-label\\\">Photograph</label>\\r\\n        <div class=\\\"col-sm-10 input-group mb-3\\\" id=\\\"photo\\\">\\r\\n          <div class=\\\"input-group-prepend\\\">\\r\\n            <span class=\\\"input-group-text\\\" id=\\\"inputGroupFileAddon01\\\"\\r\\n              >Upload</span\\r\\n            >\\r\\n          </div>\\r\\n          <div class=\\\"custom-file\\\">\\r\\n            <input\\r\\n              #fileInput\\r\\n              type=\\\"file\\\"\\r\\n              class=\\\"custom-file-input\\\"\\r\\n              id=\\\"file\\\"\\r\\n              accept=\\\"image/*\\\"\\r\\n              aria-describedby=\\\"inputGroupFileAddon01\\\"\\r\\n              (change)=\\\"handleFileInput($event.target.files)\\\"\\r\\n            />\\r\\n            <label class=\\\"custom-file-label\\\" for=\\\"file\\\">{{\\r\\n              fileInput.value ? fileName : \\\"Choose File\\\"\\r\\n            }}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div\\r\\n        class=\\\"form-group row\\\"\\r\\n        *ngIf=\\\"selectedLandmark && selectedLandmarkPhoto\\\"\\r\\n      >\\r\\n        <label for=\\\"uploadedFile\\\" class=\\\"col-sm-2 col-form-label\\\"\\r\\n          >Uploaded</label\\r\\n        >\\r\\n        <div class=\\\"col-sm-10\\\">\\r\\n          <a\\r\\n            placement=\\\"top\\\"\\r\\n            ngbTooltip=\\\"Click to see the full photo\\\"\\r\\n            [href]=\\\"selectedLandmarkPhoto.url()\\\"\\r\\n            target=\\\"_blank\\\"\\r\\n            class=\\\"card-link text-dark\\\"\\r\\n          >\\r\\n            {{ selectedLandmarkPhoto.name() }}\\r\\n          </a>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"d-flex justify-content-end align-items-center\\\">\\r\\n        <button class=\\\"btn btn-danger mr-3\\\" *ngIf=\\\"selectedLandmark\\\">\\r\\n          Delete landmark\\r\\n        </button>\\r\\n\\r\\n        <button\\r\\n          [disabled]=\\\"!selectedLandmark\\\"\\r\\n          type=\\\"submit\\\"\\r\\n          class=\\\" btn btn-success\\\"\\r\\n        >\\r\\n          Update Landmark\\r\\n        </button>\\r\\n      </div>\\r\\n    </form>\\r\\n  </ng-template>\\r\\n\\r\\n  <!-- Update Modal -->\\r\\n  <ng-template #modal let-modal>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n      <div class=\\\"d-flex align-items-center justify-content-between mt-2\\\">\\r\\n        <h4 class=\\\"text-primary\\\">Updating selected landmark. Please wait!</h4>\\r\\n        <div class=\\\"spinner-border text-success\\\" role=\\\"status\\\">\\r\\n          <span class=\\\"sr-only\\\">Loading...</span>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </ng-template>\\r\\n\\r\\n  <ng-template #loading>\\r\\n    <loading></loading>\\r\\n  </ng-template>\\r\\n</div>\\r\\n\"","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","export default \".container-fluid {\\n  padding-top: calc(70.38px + 3rem);\\n  padding-bottom: 3rem;\\n  min-height: 100vh;\\n  background: #f7f7f7;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2F0aGVvZG9zaW91L0RvY3VtZW50cy9kZXZlbG9wbWVudC9uZy1sYW5kbWFya3Mvc3JjL2FwcC9zaGFyZWQvcGFnZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc2hhcmVkL3BhZ2VzL2Rhc2hib2FyZC9kYXNoYm9hcmQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpQ0FBQTtFQUNBLG9CQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvc2hhcmVkL3BhZ2VzL2Rhc2hib2FyZC9kYXNoYm9hcmQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLWZsdWlkIHtcclxuICAgIHBhZGRpbmctdG9wOiBjYWxjKDcwLjM4cHggKyAzcmVtKTtcclxuICAgIHBhZGRpbmctYm90dG9tOiAzcmVtO1xyXG4gICAgbWluLWhlaWdodDogMTAwdmg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZjdmN2Y3O1xyXG4gIH1cclxuICAiLCIuY29udGFpbmVyLWZsdWlkIHtcbiAgcGFkZGluZy10b3A6IGNhbGMoNzAuMzhweCArIDNyZW0pO1xuICBwYWRkaW5nLWJvdHRvbTogM3JlbTtcbiAgbWluLWhlaWdodDogMTAwdmg7XG4gIGJhY2tncm91bmQ6ICNmN2Y3Zjc7XG59Il19 */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { LandmarkService } from '../../services/landmark.service';\r\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { environment } from 'src/environments/environment';\r\nimport * as Parse from 'parse';\r\n// Creates uuids\r\nimport * as uuid from 'uuid/v4';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToastService } from '../../services/Toast.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.scss']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n\r\n  //Variable declarations\r\n  landmarkForm: FormGroup;\r\n  selectedLandmark: Parse.Object;\r\n  selectedLandmarkPhoto: Parse.File;\r\n  landmarks: Parse.Object[];\r\n  fileName = '';\r\n  photoToBeUploaded: File;\r\n\r\n  //Used to get the referentce of the modal html template\r\n  @ViewChild('modal', { static: false }) modal: ElementRef\r\n\r\n  constructor(private landmarkService: LandmarkService, private formBuilder: FormBuilder, private modalService: NgbModal,\r\n    private toasterService: ToastService\r\n  ) {\r\n    // Initialization of reactive form\r\n    this.landmarkForm = this.formBuilder.group({\r\n      title: new FormControl('Landmark\\'s Title', Validators.required),\r\n      shortInfo: new FormControl('Landmark\\'s Short Info', Validators.required),\r\n      description: new FormControl('Landmark\\'s Description', Validators.required)\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    //Retrieving all landmarks\r\n    this.landmarkService.getLandmarks().then(landmarks => {\r\n      this.landmarks = landmarks;\r\n      console.log(landmarks);\r\n    }).catch(error => console.error(error));\r\n  }\r\n\r\n  onLandmarkSelect(landmarkID: string) {\r\n    // Finds the selected landmark based on user selection and sets value on the form\r\n    this.selectedLandmark = this.landmarks.find((l: Parse.Object) => l.id === landmarkID);\r\n    this.landmarkForm.setValue({\r\n      title: this.selectedLandmark.attributes.title,\r\n      shortInfo: this.selectedLandmark.attributes.short_info,\r\n      description: this.selectedLandmark.attributes.description\r\n    });\r\n    this.selectedLandmarkPhoto = this.selectedLandmark.get(\"photo\");\r\n  }\r\n\r\n  handleFileInput(files: any) {\r\n    this.photoToBeUploaded = files.item(0);\r\n    if (this.landmarkService.isFileSizeAccepted(files.item(0).size)) {\r\n      this.fileName = files.item(0).name;\r\n      this.photoToBeUploaded = files.item(0);\r\n    } else {\r\n      this.toasterService.show('The size of the image is not accepted!', { classname: 'bg-danger text-light', delay: 1500 });\r\n      if (this.photoToBeUploaded) {\r\n        this.photoToBeUploaded = null;\r\n        this.fileName = 'Choose file';\r\n      }\r\n    }\r\n  }\r\n\r\n  //Handle form submit\r\n  onSubmit(value: any) {\r\n    this.showModal(this.modal);\r\n    if (this.photoToBeUploaded && this.selectedLandmark) {\r\n      // set unique name for the file\r\n      // I am doing this in order not to check for valid file names ....\r\n      // Parse does not accept some special chars...\r\n      const photo = new Parse.File(uuid(), this.photoToBeUploaded);\r\n      photo.save().then(uploadedPhoto => {\r\n        this.toasterService.show(`Photo uploaded successfuly!`, { classname: 'bg-success text-light', delay: 1000 });\r\n        //Create thumbnail\r\n        this.landmarkService.createTumbnail(this.selectedLandmark.id, uploadedPhoto.url(), Parse.User.current().getSessionToken()).then((thumbnail) => {\r\n          console.log('Thumbnail created!', thumbnail);\r\n        }).then(() => {\r\n          // Update selected landmark with the form's data and file\r\n          this.updateSelectedLandMark(uploadedPhoto).then((parseObject: Parse.Object) => {\r\n            this.updateForm(parseObject);\r\n            this.modalService.dismissAll();\r\n          }).catch(error => {\r\n            this.modalService.dismissAll();\r\n            this.landmarkService.showError('Update on selected landmar failed!', error);\r\n          });\r\n        }).catch(error => {\r\n          console.log(error)\r\n        });\r\n      })\r\n        .then(() => {\r\n          //Create thumbnail for the uploaded photo\r\n\r\n        })\r\n        .catch(error => {\r\n          this.modalService.dismissAll();\r\n          this.landmarkService.showError('Photo upload failed!', error);\r\n        })\r\n    } else {\r\n      // Update selected landmark with the form's data only\r\n      this.updateSelectedLandMark().then((parseObject: Parse.Object) => {\r\n        this.updateForm(parseObject);\r\n        this.modalService.dismissAll();\r\n        this.toasterService.show(`Landmark uploaded successfuly!`, { classname: 'bg-success text-light', delay: 1000 });\r\n      }).catch(error => {\r\n        this.modalService.dismissAll();\r\n        this.landmarkService.showError('Landmark upload failed!', error);\r\n      });\r\n    }\r\n  }\r\n\r\n  private async updateSelectedLandMark(newFile?: Parse.File): Promise<Parse.Object | null> {\r\n    return new Promise<Parse.Object | null>((resolve, reject) => {\r\n      const object = null;\r\n      this.selectedLandmark.set('title', this.landmarkForm.value.title);\r\n      this.selectedLandmark.set('short_info', this.landmarkForm.value.shortInfo);\r\n      this.selectedLandmark.set('description', this.landmarkForm.value.description);\r\n\r\n      if (newFile) {\r\n        this.selectedLandmark.set('photo', newFile)\r\n      }\r\n\r\n      this.selectedLandmark.save().then(updatedObject => {\r\n        console.log('Landmard updated!\\n', updatedObject);\r\n        resolve(updatedObject);\r\n      }).catch(error => {\r\n        console.error('Something went wrong!', error);\r\n        reject(error);\r\n      });\r\n    });\r\n  }\r\n\r\n  //Setting value to reactive form\r\n  private updateForm(object: Parse.Object) {\r\n    this.selectedLandmark = object;\r\n    this.landmarkForm.setValue({ title: object.attributes.title, shortInfo: object.attributes.short_info, description: object.attributes.description });\r\n    if (object.attributes.photo) {\r\n      this.fileName = object.get('photo.name');\r\n    }\r\n  }\r\n\r\n\r\n  private showModal(content) {\r\n    this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title', centered: true, size: 'lg' }).result.then((result) => {\r\n      console.log('Modal closed!')\r\n    }, (reason) => {\r\n      console.log('Modal cannot close correctly!')\r\n    });\r\n  }\r\n\r\n  //\r\n  onRemovePhoto(file: Parse.File) {\r\n    console.log(file);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DashboardComponent } from './dashboard.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgbDropdown, NgbDropdownModule, NgbTooltipModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { LoadingModule } from '../../components/loading/loading.module';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgbTooltipModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: \"\",\r\n        component: DashboardComponent\r\n      }\r\n    ]),\r\n    NgbDropdownModule,\r\n    ReactiveFormsModule,\r\n    LoadingModule\r\n  ],\r\n  exports: [DashboardComponent],\r\n  declarations: [DashboardComponent]\r\n})\r\nexport class DashboardModule { }\r\n"],"sourceRoot":"webpack:///"}